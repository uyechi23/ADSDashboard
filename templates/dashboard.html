{% extends "base.html" %}

{% block chartjsimport %}
<script
    src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.2.1/chart.min.js"
    integrity="sha512-v3ygConQmvH0QehvQa6gSvTE2VdBZ6wkLOlmK7Mcy2mZ0ZF9saNbbk19QeaoTHdWIEiTlWmrwAL4hS8ElnGFbA=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer">
</script>
{% endblock %}

{% block humgraph %}
<div class="chart-container">
    <canvas id="humidityChart"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const humctx = document.getElementById("humidityChart");

    new Chart(humctx, {
        type: "line",
        data: {
            labels: {{ times | safe }},
            datasets: [
                {
                    label: "Humidity",
                    data: {{ humidityvalues | safe }},
                    borderWidth: 1,
                },
            ],
        },
        options: {
            scales: {
                x: {
                    display: true,
                    title: {
                        display: true,
                        text: "Seconds since last update (s)"
                    }
                },
                y: {
                    display: true,
                    beginAtZero: true,
                    suggestedMin: 0,
                    suggestedMax: 100,
                    ticks: {
                        stepSize: 5
                    }
                },
            },
        },
    });
</script>
{% endblock %}

{% block tempgraph %}
<div class="chart-container">
    <canvas id="temperatureChart"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const tempctx = document.getElementById("temperatureChart");

    new Chart(tempctx, {
        type: "line",
        data: {
            labels: {{ times | safe }},
            datasets: [
                {
                    label: "Temperature",
                    data: {{ temperaturevalues | safe }},
                    borderWidth: 1,
                },
            ],
        },
        options: {
            scales: {
                x: {
                    display: true,
                    title: {
                        display: true,
                        text: "Seconds since last update (s)"
                    }
                },
                y: {
                    display: true,
                    beginAtZero: true,
                    suggestedMin: 0,
                    suggestedMax: 100,
                    ticks: {
                        stepSize: 5
                    }
                },
            },
        },
    });
</script>
{% endblock %}